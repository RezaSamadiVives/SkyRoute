@model SkyRoute.ViewModels.OrderSummaryVM

@{
    ViewData["Title"] = "Overzicht";
}

<main>
    @Html.AntiForgeryToken()
    <div class="container py-5">
        @await Html.PartialAsync("_BookingWizard", "overzicht")
    </div>
    <h2 class="text-primary mb-4">Heenvluchten</h2>
    @if (Model.OutboundFlight != null && Model.OutboundFlight.Flights.Any())
    {
        <div class="row g-4">

            @await Html.PartialAsync("~/Views/FlightSearch/_FlightSeachResultPartial.cshtml", Model.OutboundFlight, new
            ViewDataDictionary(ViewData)
                {
                { "TripType", "outbound" },
                { "SelectedTripClass", Model.TripClass.ToString().ToLower() },
                { "selected", false},
                { "readOnly", true}
            })

    </div>
        }

    @if (Model.ReturnFlight != null && Model.ReturnFlight.Flights.Any())
    {
        <h2 class="text-primary mb-4">Retourluchten</h2>
        <div class="row g-4">

            @await Html.PartialAsync("~/Views/FlightSearch/_FlightSeachResultPartial.cshtml", Model.ReturnFlight, new
            ViewDataDictionary(ViewData)
                {
                { "TripType", "retour" },
                { "SelectedTripClass", Model.TripClass.ToString().ToLower() },
                { "selected", false},
                { "readOnly", true}
            })

    </div>
        }

    @if (Model.PassengerListVM.Passengers.Any())
    {
        <div class="row g-4">
            <h2 class="text-primary mb-4">Passagiers</h2>
            @for (int i = 0; i < Model.PassengerListVM.Passengers.Count; i++)
            {
                var viewData = new ViewDataDictionary(ViewData)
                {
                    TemplateInfo = { HtmlFieldPrefix = $"Passengers[{i}]" },
                };

                viewData["CanRemove"] = false;
                viewData["readOnly"] = true;
                @await Html.PartialAsync("~/Views/Passengers/_PassengerFormPartial.cshtml", Model.PassengerListVM.Passengers[i],
                viewData)
                }
    </div>
        }

</main>